<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="index :: head"></head>
<body>
<header th:replace="presentation/plantilla/template :: header"></header>
<div class="container mt-3 text-center">
    <div class="form-group row align-items-center">
        <label for="nombreProveedor" class="col-form-label col-auto">Proveedor:</label>
        <div class="col-auto">
            <input type="text" class="form-control" id="nombreProveedor" th:value="${session.nombreProveedor}" readonly>
        </div>
    </div>
    <form th:action="@{/presentation/facturacion/searchCliente}" class="mt-3">
        <div class="form-group row align-items-center">
            <label for="nombreCliente" class="col-form-label col-auto">Cliente:</label>
            <div class="col-auto">
                <input type="text"  id="nombreCliente" th:value="${session.nombreCliente}" readonly th:if="${session.nombreCliente != null}">
                <input type="text"  id="clienteId" name="clienteId" title="Digite el id del cliente" required>
                <button type="submit"  class="btn btn-primary">Buscar Cliente</button>
            </div>
        </div>
    </form>
    <form  id="formProducto" th:action="@{/presentation/facturacion/searchProducto}" method="get" class="mt-3">
        <div class="form-group row align-items-center">
            <label for="codProducto" class="col-form-label col-auto">Producto:</label>
            <div class="col-auto">
                <input type="text"  id="codProducto" name="codProducto"  title="Digite el codigo del producto" required>
                <button type="submit"  class="btn btn-primary" >Buscar Producto</button>
                <label for="cantidad" class="col-form-label col-auto">Cantidad:</label>
                <input type="number"  id="cantidad" name="cantidad" title="Digite la cantidad de productos" required>
            </div>
        </div>
    </form>
    <table class="table mt-3">
        <thead class="thead-dark">
        <tr>
            <th scope="col">#NumLinea</th>
            <th scope="col">CodProducto</th>
            <th scope="col">Detalle</th>
            <th scope="col">PrecioUnitario</th>
            <th scope="col">Cantidad</th>
            <th scope="col">Subtotal</th>
            <th scope="col"></th>
            <th scope="col"></th>
            <th scope="col"></th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="ln:${session.lineasServicios}">
            <th scope="row" th:text="${ln.cod}"></th>
            <th scope="row" th:text="${ln.productoByCodProducto.cod}"></th>
            <th scope="row" th:text="${ln.productoByCodProducto.nombre}"></th>
            <th scope="row" th:text="${ln.productoByCodProducto.precio}"></th>
            <th scope="row" th:text="${ln.cantidad}"></th>
            <th scope="row" th:text="${ln.subtotal}"></th>
            <th scope="row">
                <form th:action="@{/presentation/facturacion/disCantidad}">
                    <button type="submit"  class="btn btn-primary">-</button>
                </form>
            </th>
            <th scope="row">
                <form th:action="@{/presentation/facturacion/aumProducto}">
                    <button type="submit"  class="btn btn-primary">+</button>
                </form>
            </th>
            <th scope="row">
                <form th:action="@{/presentation/facturacion/eliminarProducto}">
                    <button type="submit"  class="btn btn-primary">Eliminar</button>
                </form>
            </th>
        </tr>
        </tbody>
    </table>
</div>

<footer th:replace="presentation/plantilla/template :: footer"></footer>
</body>
</html>